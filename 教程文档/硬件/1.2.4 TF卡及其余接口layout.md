# TF卡及其余接口Layout

## 〇.背景

本文所属目录层次为：

```
-> 1.硬件设计
	-> 2.PCB设计
		-> 4.TF卡及其余接口Layout
```

主要介绍荔枝板的TF卡及剩余的布线

## 一.TF卡布线

A13支持的UHS-1的SD接口带宽是104MB/s,由于SD接口是4线的，所以时钟频率是208MHz。
所以时钟周期约5ns，波长150x5=750mm，波长的1/10=75mm
而从荔枝板的大致布局上看，走线不会超过40mm，所以TF卡的布线可以不用考虑阻抗匹配。

> 如果长度过长，则需要控制单端阻抗到50欧姆

> 所有走线尽量同一层，参考GND平面

SD信号线的等长控制，相对于DDR3宽松很多，数据线参考时钟线尽量等长，误差在+-300mil
时钟线和其它线之间距离要满足3W原则

![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-27/48615677.jpg)

如果需要满足ESD要求，则 需要在TF卡接口处信号线加多个ESD二极管

## 二.USB布线

usb是差分信号线，USB2.0 的带宽**480Mbps**，比较高速， 需要严格控制等长和阻抗。
USB信号的时钟周期约2ns，波长约150x2=300mm，波长的1/10=30mm
从荔枝板的布局来看，usb0的长度会达到50mm左右，所以对于USB的布线需要考虑阻抗匹配。
使用si9000计算可得，差分100欧阻抗时，需要**8mil走线，5mil线距**。
USB走线的等长也需要在10mil以内。

![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-27/43532268.jpg)
如果需要满足ESD要求，则 需要在usb接口处信号线加多个ESD二极管

## 三.WIFI模块的天线布线

本来想直接在板上直接画上PCB天线，但由于两边有定位孔在，估计效果会不太好，所以就放了个IPEX座子的封装上去。

WIFI是2.4G射频信号，周期约0.4ns，波长150x0.4=60mm,波长的1/10=6mm
从wifi模块的布局上看，模块到IPEX座距离差不多超过了6mm，所以需要考虑下阻抗匹配
使用si9000计算阻抗得，单端50欧姆阻抗时，需要**13mil走线**

在天线引脚和IPEX座之间还需要加上一个pi型匹配电路，用于额外的阻抗微调。

## 四.其余走线布线

其余走线，如摄像头，RGB LCD接口等，时钟速率都在100MHZ以下，属于较低速的信号，基本上布通就行。
布线时可以适当调整元件布局使得整体更方便布线。

## 五.最终布线

![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-27/28679899.jpg)
![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-27/4100876.jpg)
